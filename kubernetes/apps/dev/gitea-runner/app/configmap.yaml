---
apiVersion: v1
kind: ConfigMap
metadata:
  name: gitea-runner-config
  namespace: dev
data:
  config.yaml: |
    log:
      level: info

    runner:
      file: /data/.runner
      capacity: 2
      timeout: 3h
      insecure: false
      fetch_timeout: 5s
      fetch_interval: 2s

    cache:
      enabled: true
      dir: /data/cache

    container:
      # Use Docker-in-Docker sidecar
      docker_host: tcp://localhost:2375
      # Mount BuildKit certs to job containers
      valid_volumes:
        - '**'
      options: --network host
